<!-- 基础信息合同管理 -->
<!-- 
 <script language="javascript" type="text/javascript">

        $(document).ready(function () {
           
            $("#table1").freezeHeader({ 'height': '600px' });
        
        })
    </script> -->
	<style>
	.search-box .title-select {
			width: 24%;

		}

	.search-box .process-input {
			width: 15%;
		}
	</style>
<div class="system-content" id="systemContent">
    <div class="business-box" id="businessBox">
        <div class="content-rout" id="contentRout">
            <span>基础数据</span>&gt;<span>基础数据维护</span>&gt;<span class="now-rout">合同信息管理</span>
        </div>
         <button ng-click="getDetailExcel()" class="btn btn-primary" type="button">导出excel</button>
        <div class="content-box trariffc-table" id="contentBox">
            <div class="search-box">
                <div>
                    <select name="" id="" class="title-select"
							ng-if="userCity==null"
                            ng-model="$parent.cityId"
                            ng-options="city.key as city.value for city in citys"
                            ng-change="queryCountyList(cityId)">
                    <option  value="">全省</option>
                    </select>
                    <input
                           ng-if="userCity!=null"
                           name="" class="title-select"
                           disabled="disabled"
                           ng-model="userCity"
                           type="text">	
                    <select class="title-select"
							ng-if="userCounty==null"
                            ng-model="$parent.countyId"
                            ng-options="county.key as county.value for county in countys">
                    <option value="" >全市</option>
                    </select>
					<input
                           ng-if="userCounty!=null"
                           name="" class="title-select"
                           disabled="disabled"
                           ng-model="userCounty"
                           type="text">	
                    <input ng-model="id" type="text" placeholder="合同编号" class="process-input con-parts" name="">
                    <input ng-model="name" type="text" placeholder="合同名称" class="process-input con-parts" name="">
					<input ng-model="accountName" type="text" placeholder="站点名称" class="process-input con-parts" id="accountName" name="">
                </div>
                <button ng-click="getData(true)" class="btn btn-primary" type="button">搜索</button>
            </div>
            <!-- table-content -->
            <div class="table-content">
                <!-- table -->
                <div class="data-table">

                    <div class="table-details">
                        <div id="contracttb">
                            <table >
                          <!--   <thead>
                                 <tr>
                               <th>序号</th>
                               <th>合同编号</th>
                               <th>合同名称</th>
                               <th>合同生效日期</th>
                               <th>合同终止日期</th>
                               <th>是否包干</th>
                               <th>包干价</th>
                               <th>缴费周期</th>
                               <th>电表户号</th>
                               <th>单价</th>
                               <th>操作</th> 
                            </tr></thead> -->
                                <tbody class="query-date">
                            <!--修改合同信息时注释    
							<tr>
                               <th>序号</th>
                               <th>合同编号</th>
                               <th>合同名称</th>
                               <th>合同生效日期</th>
                               <th>合同终止日期</th>
                               <th>是否包干</th>
                               <th>包干价</th>
                               <th>缴费周期</th>
                               <th>电表户号</th>
                               <th>单价</th>
                               <th>操作</th> 
                            </tr> -->
							
							 <tr>
                               <th>序号</th>
                               <th>合同编号</th>
                               <th>合同名称</th>
                               <th>合同生效日期</th>
                               <th>合同终止日期</th>
                               <th>是否包干</th>
                               <th>单价</th>
                               <th>包干价</th>
                               <th>分级审批记录</th>
							   <th>站点名称</th>
                               <th>操作</th> 
                            </tr>
                                <!--"id": "A150241",-->
                                <!--"name": "亚新大厦VIPF",-->
                                <!--"startDate": 1422720000000,-->
                                <!--"endDate": 1422720000000,-->
                                <!--"isClud": "0",-->
                                <!--"cludPrice": null,-->
                                <!--"paymentCycle": "3",-->
                                <!--"paymentAccountCode": null,-->
                                <!--"unitPrice": ".97",-->
                                <!--"count": 0,-->
                                <!--"accountName": "成都锦江区亚新大厦001",-->
                                <!--"oldFinanceName": "亚新大厦VIPF",-->
                                <!--"cityId": "28",-->
                                <!--"countyId": "1186"-->

								<!--
                                <tr ng-repeat="item in list track by $index">
                                        <td>{{ ((params.pageNo-1)*params.pageSize) +1*($index+1)}}</td>
                                        <td>{{item.id}}</td>
                                        <td>{{item.name}}</td>
                                        <td>{{item.startDate | date:"yyyy-MM-dd"}}</td>
                                        <td>{{item.endDate | date:"yyyy-MM-dd"}}</td>
                                        <td>{{item.isClud==1 ? "包干":"不包干"}}</td>
                                        <td>{{item.cludPrice}}</td>
                                        <td>{{item.paymentCycle | paymentCycleFilter}}</td>
                                        <td>{{item.paymentAccountCode}}</td>
                                        <td>{{item.unitPrice | number:2}}</td>
                                        <td >
                                        	<a ng-click="showContractDetail(item)" class="check-detail" >查看</a> -->
                                        	<!-- <a ng-click="modifyContractInfo(item)" class="edit-process">修改</a> -->
                                    <!--    </td> 
                                    </tr> -->
									<tr ng-repeat="item in list track by $index">
                                        <td>{{ ((params.pageNo-1)*params.pageSize) +1*($index+1)}}</td>
                                        <td>{{item.contractNumber}}</td>
                                        <td>{{item.contractName}}</td>
                                        <td>{{item.startDateStr | date:"yyyy-MM-dd"}}</td>
                                        <td>{{item.endDateStr | date:"yyyy-MM-dd"}}</td>
                                        <td>{{item.isClud==1 ? "包干":"不包干"}}</td>
                                        <td>{{item.unitPrice}}</td>
                                        <td>{{item.cludPrice}}</td>
                                        <td>{{item.isUploadOverproof}}</td>
										<td>{{item.siteName}}</td>
                                        <td >
                                        	<a ng-click="showContractDetail(item)" class="check-detail" >详情</a> 
                                       </td> 
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                            
                        </div>
						
                    </div>
                    <div class="page-foot">
                                <im-pagination  conf="pageInfo" params="params" get-data="getData()"></im-pagination>
                            </div>
                </div>
            </div>
        </div>
    </div>
</div>